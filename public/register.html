<h2>Daftar Akun Fesnuk.io</h2>
<p>Silakan isi username dan password untuk membuat akun baru.</p>

<form id="registerForm">
  <input name="username" placeholder="Username" required />
  <input name="password" type="password" placeholder="Password" required />
  <button type="submit">Register</button>
</form>

<p>Sudah punya akun? <a href="index.html">Login di sini</a></p>

<script>
document.getElementById("registerForm").onsubmit = async (e) => {
  e.preventDefault();

  const username = e.target.username.value.trim();
  const password = e.target.password.value.trim();

  if (!username || !password) {
    alert('Username dan password wajib diisi.');
    return;
  }

  const res = await fetch('/api/register', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({ username, password }),
  });

  const data = await res.json();
  console.log(data); // ðŸ‘ˆ Debugging output di browser console

  if (data.success) {
    alert('Registrasi berhasil! Akun berhasil dibuat dan data telah disimpan.');
    window.location.href = 'index.html';
  } else {
    alert(data.message);
  }
};
</script>
